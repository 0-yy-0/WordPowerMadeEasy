/*
 * Released under MIT License
 * Copyright (c) 2014-2016 hanxiaomax@qq.com
 *
 */
var mind1 = {
    /* 元数据，定义思维导图的名称、作者、版本等信息 */
    "meta": {
        "name": "How to talk about personality",
        "author": "lingfeng_ai@foxmail.com",
        "version": "1.0",
    },
    /* 数据格式声明 */
    "format": "node_array",
    /* 数据内容 */
    "data": [{ "topic": "How to talk about personality", "id": "root", "isroot": true }, { "topic": "<div data-toggle='popover' data-content='利己主义者'>1.egoist</div>", "direction": "left", "expanded": false, "id": "2-3", "parentid": "root" }, { "topic": "<div data-toggle='popover' data-content='I,self'>1. ego\t\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "3-5", "parentid": "2-3" }, { "topic": "<div data-toggle='popover' data-content='自我'>ego              \t</div>", "direction": "left", "expanded": false, "id": "4-6", "parentid": "3-5" }, { "topic": "<div data-toggle='popover' data-content='自我为中心的'>egocentric        </div>", "direction": "left", "expanded": false, "id": "4-7", "parentid": "3-5" }, { "topic": "<div data-toggle='popover' data-content='极端利己主义者, 极端自我主义者,自大狂'>egomaniac         </div>", "direction": "left", "expanded": false, "id": "4-8", "parentid": "3-5" }, { "topic": "<div data-toggle='popover' data-content='极端利己的'>egomaniacal       </div>", "direction": "left", "expanded": false, "id": "4-9", "parentid": "3-5" }, { "topic": "<div data-toggle='popover' data-content='自大的人'>2.egotist</div>", "direction": "left", "expanded": false, "id": "2-11", "parentid": "root" }, { "topic": "<div data-toggle='popover' data-content='利他主义者'>3.altruist</div>", "direction": "left", "expanded": false, "id": "2-13", "parentid": "root" }, { "topic": "<div data-toggle='popover' data-content='other'>1. alter                </div>", "direction": "left", "expanded": false, "id": "3-15", "parentid": "2-13" }, { "topic": "<div data-toggle='popover' data-content='利他主义'>alism\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "4-16", "parentid": "3-15" }, { "topic": "<div data-toggle='popover' data-content='利他主义的'>altruistic\t\t\t</div>", "direction": "left", "expanded": false, "id": "4-17", "parentid": "3-15" }, { "topic": "<div data-toggle='popover' data-content='other possible 替代物，skip one and take other 间隔，轮换'>alternate             </div>", "direction": "left", "expanded": false, "id": "4-18", "parentid": "3-15" }, { "topic": "<div data-toggle='popover' data-content='other choice   替代物            '>alternative            </div>", "direction": "left", "expanded": false, "id": "4-19", "parentid": "3-15" }, { "topic": "<div data-toggle='popover' data-content='a verbal dispute 争吵'>altercation            </div>", "direction": "left", "expanded": false, "id": "4-20", "parentid": "3-15" }, { "topic": "<div data-toggle='popover' data-content='a change 改变'>alteration              </div>", "direction": "left", "expanded": false, "id": "4-21", "parentid": "3-15" }, { "topic": "<div data-toggle='popover' data-content='另一个我'>alter ego               \t</div>", "direction": "left", "expanded": false, "id": "4-22", "parentid": "3-15" }, { "topic": "<div data-toggle='popover' data-content='内向的人'>4.introvert</div>", "direction": "left", "expanded": false, "id": "2-24", "parentid": "root" }, { "topic": "<div data-toggle='popover' data-content='inward   向内'>1. intro-              \t</div>", "direction": "left", "expanded": false, "id": "3-26", "parentid": "2-24" }, { "topic": "<div data-toggle='popover' data-content='来自拉丁语 verto=to turn'>2. vert-               \t</div>", "direction": "left", "expanded": false, "id": "3-27", "parentid": "2-24" }, { "topic": "<div data-toggle='popover' data-content='外向的人'>5.extrovert</div>", "direction": "left", "expanded": false, "id": "2-29", "parentid": "root" }, { "topic": "<div data-toggle='popover' data-content='outward 向外'>1. extro-             \t</div>", "direction": "left", "expanded": false, "id": "3-31", "parentid": "2-29" }, { "topic": "<div data-toggle='popover' data-content='又内向又外向的普通人'>6.ambivert</div>", "direction": "right", "expanded": false, "id": "2-33", "parentid": "root" }, { "topic": "<div data-toggle='popover' data-content='both       向两个方向'>1. ambi-             \t\t\t</div>", "direction": "left", "expanded": false, "id": "3-35", "parentid": "2-33" }, { "topic": "<div data-toggle='popover' data-content='左右手共用的人，两面派的，灵巧的。'>ambidextrous \t\t\t\t</div>", "direction": "left", "expanded": false, "id": "4-36", "parentid": "3-35" }, { "topic": "<div data-toggle='popover' data-content='skillful'>1. Dexterous \t\t\t</div>", "direction": "left", "expanded": false, "id": "5-37", "parentid": "4-36" }, { "topic": "<div data-toggle='popover' data-content='skill'>2. Dexterity\t\t\t</div>", "direction": "left", "expanded": false, "id": "5-38", "parentid": "4-36" }, { "topic": "<div data-toggle='popover' data-content='拉丁语 右撇子（右手是熟练的手，所以是skill和skillful）  '>3. Dexter \t\t\t\t</div>", "direction": "left", "expanded": false, "id": "5-39", "parentid": "4-36" }, { "topic": "<div data-toggle='popover' data-content='拉丁语 左撇子，英语 threating，dangerous，evil,源自祖先们对左撇子的误解和猜测'>4. sinister \t\t\t</div>", "direction": "left", "expanded": false, "id": "5-40", "parentid": "4-36" }, { "topic": "<div data-toggle='popover' data-content='法语 左撇子，英语 clumsy 笨拙的, 粗鲁的,不善交际的。'>5. gauche \t\t\t\t</div>", "direction": "left", "expanded": false, "id": "5-41", "parentid": "4-36" }, { "topic": "<div data-toggle='popover' data-content='法语 右撇子 ，英语里面变成 adroit 灵巧的，精明的，干练的。 '>6. droit \t\t\t\t</div>", "direction": "left", "expanded": false, "id": "5-42", "parentid": "4-36" }, { "topic": "<div data-toggle='popover' data-content='两手俱技巧独特'>ambidextrity\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "4-43", "parentid": "3-35" }, { "topic": "<div data-toggle='popover' data-content='反人类'>7.misanthrope</div>", "direction": "right", "expanded": false, "id": "2-45", "parentid": "root" }, { "topic": "<div data-toggle='popover' data-content='拉丁语 to hate'>1. misein \t\t\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "3-48", "parentid": "2-45" }, { "topic": "<div data-toggle='popover' data-content='人类的  '>2. anthropes\t\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "3-49", "parentid": "2-45" }, { "topic": "<div data-toggle='popover' data-content='人类学'>anthropology \t\t\t\t</div>", "direction": "left", "expanded": false, "id": "4-50", "parentid": "3-49" }, { "topic": "<div data-toggle='popover' data-content='人类学家'>anthropologist \t\t\t</div>", "direction": "left", "expanded": false, "id": "4-51", "parentid": "3-49" }, { "topic": "<div data-toggle='popover' data-content='慈善家'>philanthropist \t\t\t</div>", "direction": "left", "expanded": false, "id": "4-52", "parentid": "3-49" }, { "topic": "<div data-toggle='popover' data-content='爱'>1. phil- \t\t\t\t</div>", "direction": "left", "expanded": false, "id": "5-53", "parentid": "4-52" }, { "topic": "<div data-toggle='popover' data-content='费城 philos \"loving\" (see -phile) + adelphos \"brother\"'>Philadelphia: \t</div>", "direction": "left", "expanded": false, "id": "6-54", "parentid": "5-53" }, { "topic": "<div data-toggle='popover' data-content='反女人'>8.misogynist</div>", "direction": "right", "expanded": false, "id": "2-57", "parentid": "root" }, { "topic": "<div data-toggle='popover' data-content='女人 woman'>1. gyne\t\t\t\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "3-59", "parentid": "2-57" }, { "topic": "<div data-toggle='popover' data-content='妇科医生'>gynecologist \t\t\t\t</div>", "direction": "left", "expanded": false, "id": "4-60", "parentid": "3-59" }, { "topic": "<div data-toggle='popover' data-content='一夫多妻'>polygyny \t\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "4-61", "parentid": "3-59" }, { "topic": "<div data-toggle='popover' data-content='man,来自拉丁语andros    '>2. andry   \t\t\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "3-64", "parentid": "2-57" }, { "topic": "<div data-toggle='popover' data-content='反婚姻    '>9.misogamist</div>", "direction": "right", "expanded": false, "id": "2-68", "parentid": "root" }, { "topic": "<div data-toggle='popover' data-content='婚姻,marriage '>1. gamos \t\t\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "3-70", "parentid": "2-68" }, { "topic": "<div data-toggle='popover' data-content='一夫一妻制'>monogamy \t\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "4-71", "parentid": "3-70" }, { "topic": "<div data-toggle='popover' data-content='重婚罪 '>bigamy\t\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "4-72", "parentid": "3-70" }, { "topic": "<div data-toggle='popover' data-content='一夫多妻或一妻多夫制'>polygamy \t\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "4-73", "parentid": "3-70" }, { "topic": "<div data-toggle='popover' data-content='禁欲主义者'>10.ascetic</div>", "direction": "right", "expanded": false, "id": "2-75", "parentid": "root" }, { "topic": "<div data-toggle='popover' data-content='拉丁语，monk，hermit'>1. asketes \t\t\t\t\t</div>", "direction": "left", "expanded": false, "id": "3-77", "parentid": "2-75" }]


};
var mind2 = {
    /* 元数据，定义思维导图的名称、作者、版本等信息 */
    "meta": {
        "name": "How to talk about doctors",
        "author": "lingfeng_ai",
        "version": "0.2"
    },
    /* 数据格式声明 */
    "format": "node_tree",
    /* 数据内容 */
    "data": {
        "topic": "How to talk about personality",
        "id": "root",
        "children": [{
            "topic": "<div data-toggle='popover' data-content='利己主义者'>1.egoist</div>",
            "direction": "left",
            "expanded": true,
            "id": "1.egoist",
            "children": []
        }, {
            "topic": "<div data-toggle='popover' data-content='自大的人'>2.egotist</div>",
            "direction": "right",
            "expanded": true,
            "id": "2.egotist",
            "children": []
        }, {
            "topic": "<div data-toggle='popover' data-content='利他主义者'>3.altruist</div>",
            "direction": "right",
            "expanded": true,
            "id": "3.altruist",
            "children": []
        }, {
            "topic": "<div data-toggle='popover' data-content='内向的人'>4.introvert</div>",
            "direction": "right",
            "expanded": true,
            "id": "4.introvert",
            "children": []
        }, {
            "topic": "<div data-toggle='popover' data-content='外向的人'>5.extrovert</div>",
            "direction": "right",
            "expanded": true,
            "id": "5.extrovert",
            "children": []
        }, {
            "topic": "<div data-toggle='popover' data-content='又内向又外向的普通人'>6.ambivert</div>",
            "direction": "right",
            "expanded": true,
            "id": "6.ambivert",
            "children": []
        }, {
            "topic": "<div data-toggle='popover' data-content='反人类'>7.misanthrope</div>",
            "direction": "right",
            "expanded": true,
            "id": "7.misanthrope",
            "children": []
        }, {
            "topic": "<div data-toggle='popover' data-content='反女人'>8.misogynist</div>",
            "direction": "right",
            "expanded": true,
            "id": "8.misogynist",
            "children": []
        }, {
            "topic": "<div data-toggle='popover' data-content='反婚姻    '>9.misogamist</div>",
            "direction": "right",
            "expanded": true,
            "id": "9.misogamist",
            "children": []
        }, {
            "topic": "<div data-toggle='popover' data-content='禁欲主义者'>10.ascetic</div>",
            "direction": "right",
            "expanded": true,
            "id": "10.ascetic",
            "children": []
        }]
    }

};

var mind13 = {
    /* 元数据，定义思维导图的名称、作者、版本等信息 */
    "meta": {
        "name": "学习资源",
        "author": "lingfeng_ai",
        "version": "0.2"
    },
    /* 数据格式声明 */
    "format": "node_tree",
    /* 数据内容 */
    "data": {
        "id": "root",
        "topic": "学习资源",
        "children": [{
            "id": "easy",
            "topic": "<a href='http://www.etymonline.com' target='_blank'>1.在线词源字典</a>",
            "direction": "right",
            "expanded": true,
        }, ]
    }
};

var options = {
    container: 'jsmind_container',
    theme: 'clouds',
    editable: false,
    support_html: true, // 是否支持节点里的HTML元素
    view: {
        hmargin: 100, // 思维导图距容器外框的最小水平距离
        vmargin: 150, // 思维导图距容器外框的最小垂直距离
        line_width: 3, // 思维导图线条的粗细
        line_color: '#ffffff' // 思维导图线条的颜色
    },
    layout: {
        hspace: 30, // 节点之间的水平间距
        vspace: 30, // 节点之间的垂直间距
        pspace: 20 // 节点收缩/展开控制器的尺寸
    },
    shortcut: {
        enable: true, // 是否启用快捷键
        handles: {
            'zoomin': function(jm, e) {
                // do something...
            },
            'zoomout': function(jm, e) {
                // do something...
            },
        }, // 命名的快捷键事件处理器
        mapping: { // 快捷键映射
            toggle: 32, // <Space>
            left: 37, // <Left>
            up: 38, // <Up>
            right: 39, // <Right>
            down: 40, // <Down>
            zoomin: 80,
            zoomout: 81,
        }
    },
};
var jm = new jsMind(options);
jm.show(mind1);
console.log(jm.get_meta())

$(document).ready(function() {
    popsetup();

})

var options = {
    container: 'body',
    trigger: 'hover',
    placement: 'top',
    title: '释义',
    template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title pop-title"></h3><div class="popover-content pop-content"></div></div>'

};

//切换导图后重新设置 meta 数据和 popup
function popsetup() {
    $('[data-toggle="popover"]').popover(options)
    $("#copyright").html("作者:\t" + jm.get_meta()['author'])
    $("#version").html("版本:\t" + jm.get_meta()['version'])
    $("#liscence").html("许可:\tMIT")
}
